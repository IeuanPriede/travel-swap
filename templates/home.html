{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}
  <h1>TravelSwap</h1>
  <p>Home exchange reimagined for modern travelers.</p>

  <div class="container mt-4">
    <div class="row">
      <!-- Left: Search Criteria -->
      <div class="col-md-3 mb-4">
        <div class="card p-3 shadow-sm">
          <h5>Search Criteria</h5>
          <form method="GET" action="">
            <!-- Location Filter -->
            <div class="mb-2">
              <label for="location" class="form-label">Location</label>
              <input type="text" class="form-control" id="location" name="location">
            </div>

            <!-- Dates Filter -->
            <div class="mb-2">
              <label for="dates" class="form-label">Dates</label>
              <input type="text" class="form-control" id="dates" name="dates" placeholder="Select date range" autocomplete="off">
            </div>


            <!-- House Criteria Checkboxes -->
            <hr>
            <p class="fw-semibold">House Features</p>
            <div class="form-check">
              {{ form.pets_allowed }} {{ form.pets_allowed.label_tag }}
            </div>
            <div class="form-check">
              {{ form.has_pool }} {{ form.has_pool.label_tag }}
            </div>
            <div class="form-check">
              {{ form.more_than_3_bedrooms }} {{ form.more_than_3_bedrooms.label_tag }}
            </div>
            <div class="form-check">
              {{ form.near_beach }} {{ form.near_beach.label_tag }}
            </div>
            <div class="form-check">
              {{ form.in_mountains }} {{ form.in_mountains.label_tag }}
            </div>
            <div class="form-check">
              {{ form.in_city }} {{ form.in_city.label_tag }}
            </div>
            <div class="form-check">
              {{ form.in_rural }} {{ form.in_rural.label_tag }}
            </div>
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary w-100 mt-3">Apply Filters</button>
    </form>
  </div>
</div>


      <!-- Center + Right: Profile Section (AJAX will update this) -->
      <div class="col-md-9" id="profile-section">
        {% include 'partials/profile_card.html' %}
      </div>
    </div>
  </div>
{% endblock %}
{% block extra_js %}
  <script src="{% static 'js/script.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
  flatpickr("#dates", {
    mode: "range",
    dateFormat: "Y-m-d",
    minDate: "today"
  });
  </script>
{% endblock %}